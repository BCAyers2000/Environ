# Copyright (C) 2018 ENVIRON (www.quantum-environment.org)
#
#    This file is part of Environ version 2.0
#
#    Environ 2.0 is free software: you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation, either version 2 of the License, or
#    (at your option) any later version.
#
#    Environ 2.0 is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more detail, either the file
#    `License' in the root directory of the present distribution, or
#    online at <http://www.gnu.org/licenses/>.
#
# Compilation instructions for ENVIRON module
#
# Authors: Oliviero Andreussi (Department of Physics, University of North Texas)
#          Francesco Nattino  (THEOS and NCCR-MARVEL, Ecole Polytechnique Federale de Lausanne)
#          Iurii Timrov       (THEOS and NCCR-MARVEL, Ecole Polytechnique Federale de Lausanne)
#          Ismaila Dabo       (Department of Materials Science and Engineering, Penn State)
#          Nicola Marzari     (THEOS and NCCR-MARVEL, Ecole Polytechnique Federale de Lausanne)
#          Quinn Campbell     (Sandia National Labs)
#          Edan Bainglass     (Department of Physics, University of North Texas)
#          Matthew Truscott   (Department of Physics, University of North Texas)
#          Gabriel Medrano    (Department of Physics, University of North Texas)

This is the distribution of the ENVIRON module for Quantum ESPRESSO.
These are the steps to compile Quantum ESPRESSO with the Environ module,
for more information on installation and usage of the module, please
check the web site http://www.quantum-environment.org/

If there are problems with the QE compilation steps, look up for solutions
on the PW-forum or refer to the Quantum ESPRESSO documentation and web site
http://www.quantum-espresso.org/

MANUAL

QE + Environ 2.0 Installation
-----------------------------

* From QE root:
  ------------
   
  1) configure QE installation with

     - ./configure [--prefix=]
     - no prefix should be enough in most cases

* From Environ root: (placed in the QE root directory)
  -----------------
    
  1) configure Environ with

     - ./configure 
     - no prefix should be enough in most cases
    
  2) install QE + Environ 2.0 with

     - make install-QE+Environ

       a) select QE package (pw, tddfpt, xspectra, or all)
          - see QE documentation for package detail

       b) select number of cores (for parallel compilation)
          - if issues arise in parallel, run in serial (core=1)"

       c) (optional) pre-compile QE without Environ (for the more cautious)

     * compilation will write logs to Environ/install
     * compilation will terminate if errors are detected
     * NOTE: if pre-compiled, QE re-compilation will only update 
             the patched files (relatively quick)
    
  3) run executables with -environ flag, e.g.

     - pw.x -environ < pw.in > pw.out

* To uninstall:
  ------------

  - make uninstall-QE+Environ
  - (optional) confirm cleaning of QE

The above instructions refer to Environ v2.0 installed on QE-6.3 and later versions
For previous versions of QE (namely QE-6.1.X and QE-6.2.X) please refer to the 
instructions on the website:

http://www.quantum-environment.org/installation.html


END MANUAL
